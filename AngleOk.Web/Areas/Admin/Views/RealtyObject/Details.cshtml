@model Data.AngleOk.Model.Models.RealtyObject

@{
	ViewData["Title"] = "Объект детально";
}

<h2>Объект детально</h2>

<div>
	<h4>Объект</h4>
	<hr />
	<dl class="row">
		<dt class="col-sm-2">
			Кадастровый номер
		</dt>
		<dd class="col-sm-10">
			@Model.CadastralNumber
		</dd>
		<dt class="col-sm-2">
			Адрес
		</dt>
		<dd class="col-sm-10">
			@Model.Address
		</dd>
		<dt class="col-sm-2">
			Тип
		</dt>
		<dd class="col-sm-10">
			@Model.RealtyObjectKind.RealtyObjectKindName
		</dd>
		<dt class="col-sm-2">
			Широта
		</dt>
		<dd class="col-sm-10">
			@Model.Latitude
		</dd>
		<dt class="col-sm-2">
			Долгота
		</dt>
		<dd class="col-sm-10">
			@Model.Longitude
		</dd>
		<dt class="col-sm-2">
			Описание
		</dt>
		<dd class="col-sm-10">
			@Model.Description
		</dd>
	</dl>

	<!-- Отображение медиафайлов -->
	<h4>Фотографии</h4>
	<div class="row">
		@if (Model.MediaMaterials != null && Model.MediaMaterials.Any())
		{
			foreach (var media in Model.MediaMaterials)
			{
			    if (media.Data != null)
			    {

			        <div class="col-md-3">
                        <img src="data:image/@media.Extension;base64,@(Convert.ToBase64String(media.Data))" class="img-thumbnail" alt="@media.FileName"/>
                        <p>@media.FileName</p>
                    </div>
			    }
			    else if (!string.IsNullOrEmpty(media.Path))
			    {
			        <div class="col-md-3">
                        <img src="@media.Path" class="img-thumbnail" alt="@media.FileName"/>
                        <p>@media.FileName</p>
                    </div>
			    }
			}
		}
		else
		{
			<p>Нет фото</p>
		}
	</div>
</div>

<div>
	<a asp-action="Edit" asp-route-id="@Model.Id">Редактировать</a> |
	<a asp-action="Index">Назад</a>
</div>